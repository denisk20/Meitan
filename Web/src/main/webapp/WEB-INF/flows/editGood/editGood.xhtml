<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:sf="http://www.springframework.org/tags/faces"
				xmlns:form="http://www.springframework.org/tags/form" xmlns:rich="http://richfaces.org/rich"
				template="/WEB-INF/templates/meitan.xhtml">

	<ui:define name="content">
		<h:messages/>

		<h1>Изменить продукт</h1>
		<h:form>
			<fieldset>
				<div class="field">
					<div class="label">Название продукта</div>
					<div class="input">
						<sf:clientTextValidator promptMessage="Введите название продукта">
							<h:inputText id="productName" value="#{product.name}"/>
						</sf:clientTextValidator>
					</div>
				</div>

				<div class="field">
					<div class="label">Описание продукта</div>
					<div class="input">
						
							<rich:editor id="productDescription" configuration="editor" value="#{product.description}" theme="advanced"/>

							<!--<h:inputText id="productDescription" value="#{product.description}"/>-->

					</div>
				</div>

				<div class="field">
					<div class="label">Цена</div>
					<div class="input">
						<sf:clientCurrencyValidator currency="UAH" promptMessage="Введите цену продукта"
													required="true">
							<h:inputText id="inputCurrency" value="#{product.price.amount}" required="true"/>
						</sf:clientCurrencyValidator>
					</div>
				</div>

				<div class="field">
					<div class="label">Отметьте, если продукт - новинка</div>
					<div class="input">
						<h:selectBooleanCheckbox id="isProductNew" value="#{product.new}"/>
					</div>
				</div>

				<div class="field">
					<div class="label">Выберите категории для данного продукта</div>
					<div class="input">
						<ui:repeat value="#{categoriesSelector.items}" var="selectable">
							<h:selectBooleanCheckbox id="categoriesCheckboxes" value="#{selectable.selected}"/>
							<h:outputLabel id="checkboxLabel" value="#{selectable.label}"/>
							<br/>
						</ui:repeat>
					</div>
				</div>
			</fieldset>
			<h:commandButton id="createCategoryButton" value="Сохранить" action="save"/>
			<sf:commandButton value="Назад" action="back"/>
		</h:form>

	</ui:define>
</ui:composition>